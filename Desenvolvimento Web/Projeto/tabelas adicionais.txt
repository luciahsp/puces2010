create table Chamado
(
ID_Chamado integer NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
ID_Usuario integer CONSTRAINT FK_IDUsuarioChamado References Usuario on Delete Cascade on Update Restrict,
ID_UsuarioResponsavel integer CONSTRAINT FK_IDUsuarioResponsavelChamado References Usuario on Delete Cascade on Update Restrict,
ID_AreaResponsavel integer CONSTRAINT FK_IDAreaResponsavelChamado References AreaResponsavel on Delete Cascade on Update Restrict,
ID_Problema integer CONSTRAINT FK_IDProblemaChamado References Problema on Delete Cascade on Update Restrict,
ID_Unidade integer CONSTRAINT FK_IDUnidadeChamado References Unidade on Delete Cascade on Update Restrict,
ID_Local integer CONSTRAINT FK_IDLocalChamado References Local on Delete Cascade on Update Restrict,
ID_StatusAtendimentoAtual integer CONSTRAINT FK_IDStatusAtendimentoChamado References StatusAtendimento on Delete Cascade on Update Restrict,
Descricao varchar(1000),
DataAbertura Date,
HoraAbertura Time,
DataFechamento Date,
HoraFechamento Time,
primary key(ID_Chamado)
) ;


create table ChamadoAcao
(
ID_ChamadoAcao integer NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
ID_Chamado integer CONSTRAINT FK_IDChamadoChamadoAcao References Chamado on Delete Cascade on Update Restrict,
ID_Usuario integer CONSTRAINT FK_IDUsuarioChamadoAcao References Usuario on Delete Cascade on Update Restrict,
ID_StatusAtendimentoAnterior integer CONSTRAINT FK_IDStatusChamadoAnterior References StatusAtendimento on Delete Cascade on Update Restrict,
ID_StatusAtendimentoAtual integer CONSTRAINT FK_IDStatusChamadoAtual References StatusAtendimento on Delete Cascade on Update Restrict,
Descricao varchar(1000),
Data Date,
Hora Time,
primary key(ID_ChamadoAcao)
) ;


create table TipoAcesso
(
ID_TipoAcesso integer NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
Descricao varchar(1000),
Nome varchar(1000),
primary key(ID_TipoAcesso)
) ;


create table HistoricoAcesso
(
ID_HistoricoAcesso integer NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
ID_Usuario integer CONSTRAINT FK_IDUsuarioHistorico References Usuario on Delete Cascade on Update Restrict,
ID_TipoAcesso integer CONSTRAINT FK_IDTipoAcessoHistorico References TipoAcesso on Delete Cascade on Update Restrict,
Data Date,
Hora Time,
primary key(ID_HistoricoAcesso)
);
